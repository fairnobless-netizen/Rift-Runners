:root {
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #ecf1ff;
  background: #080b14;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --header-h: clamp(34px, calc(46px * var(--ui-scale)), 46px);
  --shell-gap: clamp(0.35rem, 1.5vw, 0.7rem);
  --side-w: clamp(72px, calc(180px * var(--ui-scale)), 132px);
  --side-w-left: var(--side-w);
  --side-w-right: var(--side-w);
  --ui-scale: 1;
}


*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  overscroll-behavior: none;
  touch-action: none;
}

body {
  height: var(--tg-viewport-stable-h);
  min-height: var(--tg-viewport-stable-h);
  margin: 0;
  overflow: hidden;

  /* Prevent "rubber band" + swipe gestures moving the webview */
  overscroll-behavior: none;
  -webkit-overflow-scrolling: auto;
  touch-action: none;
  background: radial-gradient(circle at top, #13192c, #070a12 60%);
}

#root {
  height: var(--tg-viewport-stable-h);
  min-height: var(--tg-viewport-stable-h);
}

.page {
  position: relative; /* IMPORTANT: anchor for WsDebugOverlay absolute root */
  display: flex;
  flex-direction: column;
  gap: var(--shell-gap);
  height: var(--tg-viewport-stable-h);
  min-height: var(--tg-viewport-stable-h);
  width: 100%;
  max-width: none;
  margin: 0;
  padding-top: calc(var(--tg-content-top, 0px) + var(--safe-top));
  padding-right: calc(var(--tg-content-right, 0px) + var(--safe-right));
  padding-bottom: calc(var(--tg-content-bottom, 0px) + var(--safe-bottom));
  padding-left: calc(var(--tg-content-left, 0px) + var(--safe-left));
  overflow: hidden;
}

.hud {
  width: auto;
  margin: 0 var(--shell-gap);
  min-height: var(--header-h);
  height: var(--header-h);
  background: #0f1630cc;
  border-top: 1px solid #29345d;
  border-bottom: 1px solid #29345d;
  border-left: 0;
  border-right: 0;
  border-radius: 0;
  display: flex;
  align-items: center;
  padding: 0.2rem 0.6rem;
  overflow: hidden;
  flex: 0 0 auto;
}

.hud h1 {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.15;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.stats-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.45rem;
  margin-top: 0;
  min-width: 0;
  flex-wrap: nowrap;
  overflow: hidden;
  width: 100%;
  scrollbar-width: none;
  font-size: 0.8rem;
  line-height: 1.15;
}

.hud-left,
.hud-right {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  min-width: 0;
}

.hud-left {
  flex: 1 1 auto;
  min-width: 0;
}

.hud-right {
  flex: 1 1 auto;
  justify-content: flex-end;
  overflow-x: auto;
  scrollbar-width: none;
}

.hud-right::-webkit-scrollbar {
  display: none;
}

.hud-lives {
  flex: 0 0 auto;
  white-space: nowrap;
  font-size: 0.9rem;
  letter-spacing: 0.04em;
}

.stats-row::-webkit-scrollbar {
  display: none;
}

.hud-metric {
  flex: 0 0 auto;
  white-space: nowrap;
  border-radius: 6px;
  background: #1a24470f;
  padding: 0.1rem 0.25rem;
}

.hud-metric--primary {
  max-width: min(42vw, 220px);
  overflow: hidden;
  text-overflow: ellipsis;
}

.hud-slots {
  display: grid;
  align-items: center;
  gap: 0.35rem;
  width: 100%;
  min-width: 0;
}

.hud-slots--multiplayer {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.hud-slots--single {
  grid-template-columns: minmax(0, 1fr);
  max-width: min(42vw, 300px);
}

.hud-slot {
  min-width: 0;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  border-radius: 7px;
  border: 1px solid #2d3864;
  background: #1a244740;
  padding: 0.16rem 0.32rem;
}

.hud-slot--empty {
  min-height: 1.45rem;
  border-style: dashed;
  opacity: 0.58;
}

.hud-slot-name {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.playfield-shell {
  display: flex;
  align-items: stretch;
  gap: var(--shell-gap);
  flex: 1;
  min-height: 0;
  min-width: 0;
  width: 100%;
  padding: 0 var(--shell-gap) var(--shell-gap);
}

.control-column {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #0f1630cc;
  border: 1px solid #27335c;
  border-radius: 12px;
  padding: 0.5rem;
  min-height: 0;
  min-width: 0;
  flex: 0 0 var(--side-w);
  width: var(--side-w);
}

.control-column--left {
  flex-basis: var(--side-w-left);
  width: var(--side-w-left);
  flex-direction: column;
  justify-content: space-between;
  gap: calc(0.5rem * var(--ui-scale));
  align-self: stretch;
}

.control-column--right {
  flex-basis: var(--side-w-right);
  width: var(--side-w-right);
  flex-direction: column;
  justify-content: center;
  gap: calc(0.55rem * var(--ui-scale));
  align-self: stretch;
  font-size: calc(1rem * var(--ui-scale));
}

.left-nav {
  --nav-grid-gap: calc(0.32rem * var(--ui-scale));
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: calc(0.5rem * var(--ui-scale));
}

.nav-secondary {
  width: 100%;
  display: flex;
  justify-content: flex-start;
  margin-top: calc(0.55rem * var(--ui-scale));
}

.nav-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--nav-grid-gap);
}

.nav-btn {
  width: 71.5%;
  min-width: 44px;
  min-height: 44px;
  aspect-ratio: 1 / 1;
  border-radius: 10px;
  font-size: calc(0.95rem * var(--ui-scale));
  padding: 0;
  display: grid;
  place-items: center;
  justify-self: start;
  position: relative;
  background: #2a3764;
}

.nav-btn::before {
  content: '';
  position: absolute;
  inset: 50%;
  width: 44px;
  height: 44px;
  transform: translate(-50%, -50%);
}

.nav-btn__icon {
  display: inline-grid;
  place-items: center;
  width: 78%;
  height: 78%;
  font-size: calc(1.45rem * var(--ui-scale));
  line-height: 1;
}

.left-joystick {
  /* stays at the bottom, but not glued to it */
  margin-top: auto;

  /* make the joystick live in the LOWER HALF of the left column */
  /* M32c: never drop joystick out of view on narrow layouts */
  height: clamp(120px, 50%, 100%);

  /* center joystick inside that lower half */
  display: flex;
  align-items: center;
  justify-content: center;

  /* keep consistent padding with ui scale */
  padding: calc(10px * var(--ui-scale));
}

.joystick-wrap {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.joystick-touch-zone {
  width: min(100%, calc(300px * var(--ui-scale)));
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: none;
}

.joystick-touch-zone--active {
  background: radial-gradient(circle at center, #5568aa22, transparent 70%);
}


.right-stack {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: calc(0.55rem * var(--ui-scale));
  flex: 1;
  width: 100%;
}

.right-stack-top {
  width: 100%;
  flex: 0 0 auto;
}

.right-stack-middle {
  width: 100%;
  flex: 1;
  display: flex;
  align-items: center;
}

.right-panel {
  width: 100%;
  max-width: 100%;
  background: #0f1630cc;
  border: 1px solid #27335c;
  border-radius: 12px;
  padding: calc(0.5rem * var(--ui-scale));
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: calc(0.5rem * var(--ui-scale));
}

.right-panel--zoom {
  padding: calc(0.45rem * var(--ui-scale));
  gap: calc(0.2rem * var(--ui-scale));
}

.boost-slot {
  width: 100%;
  aspect-ratio: 1.25 / 1;
  min-height: calc(30px * var(--ui-scale));
  border-radius: 10px;
  border: 1px dashed #425180;
  color: #a6b2d8;
  display: grid;
  place-items: center;
  font-size: calc(0.7rem * var(--ui-scale));
  letter-spacing: 0.04em;
  text-transform: uppercase;
}


.nav-btn--multiplayer {
  width: calc((((100% - var(--nav-grid-gap)) / 2)) * 0.715);
}

.right-panel--actions {
  --action-stack-gap: calc(0.95rem * var(--ui-scale));
  --boost-separation-gap: calc(1.35rem * var(--ui-scale));
  gap: var(--action-stack-gap);
}

.boost-slot--upper {
  margin-bottom: var(--boost-separation-gap);
}

.boost-slot--lower {
  margin-top: var(--boost-separation-gap);
}
.game-shell {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 0;
  min-height: 0;
  height: 100%;
  flex: 1 1 auto;
  overflow: hidden;
}

.game-canvas {
  aspect-ratio: var(--arena-ar, 576 / 448);
  width: 100%;
  height: auto;
  max-width: 100%;
  max-height: 100%;
  min-width: 0;
  min-height: 0;

  border: 2px solid #27335c;
  border-radius: 12px;
  overflow: hidden;
  background: #0a0f1c;
}

.zoom-slider {
  width: 100%;
  height: calc(22px * var(--ui-scale));
  padding: calc(0.06rem * var(--ui-scale)) 0;
}

button {
  border: none;
  border-radius: 10px;
  padding: 0.45rem 0.6rem;
  background: #2f3f72;
  color: #ecf1ff;
  font-weight: 700;
}

.control-column--right button {
  font-size: calc(0.82rem * var(--ui-scale));
  padding: calc(0.45rem * var(--ui-scale)) calc(0.6rem * var(--ui-scale));
}

button:disabled {
  opacity: 0.55;
}

.joystick-pad {
  position: relative;
  width: min(100%, calc(150px * var(--ui-scale)));
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  border: 2px solid #425180;
  background: radial-gradient(circle at 30% 30%, #25345f, #162240 70%);
  touch-action: none;
}

.joystick-pad::after {
  content: '';
  position: absolute;
  inset: 24%;
  border-radius: 50%;
  border: 1px solid #7f91ca66;
}

.joystick-pad--active {
  border-color: #89a4eb;
}

.joystick-knob {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #d3deff, #8295d2 75%);
  box-shadow: 0 0 0 2px #223157, 0 4px 16px #02040a80;
  width: calc(44px * var(--ui-scale));
  height: calc(44px * var(--ui-scale));
}

.landscape-fallback-dpad {
  display: none;
}

.shop-panel {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: calc(0.35rem * var(--ui-scale));
}

.shop-buy-btn {
  width: 100%;
  min-height: calc(36px * var(--ui-scale));
  font-size: calc(0.68rem * var(--ui-scale));
  background: #38508a;
  border-radius: 8px;
  padding: calc(0.35rem * var(--ui-scale));
}

.bomb-btn,
.detonate-btn {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 9999px;
  max-width: calc(78px * var(--ui-scale));
  min-height: 0;
  align-self: center;
  font-size: calc(0.9rem * var(--ui-scale));
  touch-action: manipulation;
}

.bomb-btn {
  background: #9c3e3e;
}

.detonate-btn {
  background: #44548f;
}

html[data-device="phone"] {
  --side-w: clamp(64px, calc(148px * var(--ui-scale)), 104px);
}

html[data-device="phone"] .hud-metric--secondary {
  display: none;
}

html[data-device="tablet"] {
  --side-w: clamp(72px, calc(172px * var(--ui-scale)), 122px);
}

html[data-device="desktop"] {
  --side-w: clamp(86px, calc(196px * var(--ui-scale)), 138px);
}

html[data-device="desktop"] .settings-modal {
  width: min(86vw, 640px);
}

html[data-orient="landscape"] .page,
html[data-orient="landscape"] .playfield-shell,
html[data-orient="landscape"] .game-shell,
html[data-orient="landscape"] .control-column,
html[data-orient="landscape"] .right-panel {
  min-width: 0;
  min-height: 0;
}

@media (max-width: 1100px) {
  .hud-metric--secondary {
    display: none;
  }
}

@media (max-width: 860px) {
  .control-column {
    padding: 0.35rem;
  }

  .boost-slot {
    min-height: calc(30px * var(--ui-scale));
  }
}

@media (orientation: landscape) and (max-width: 860px) {
  .hud-right .hud-metric:nth-child(3),
  .hud-right .hud-metric:nth-child(4),
  .hud-right .hud-metric:nth-child(6) {
    display: none;
  }
}

@media (orientation: landscape) and (pointer: coarse) {
  :root {
    --side-w-left: clamp(90px, calc(210px * var(--ui-scale)), 154px);
    --side-w-right: var(--side-w);
  }
}

@media (orientation: portrait) {
  .playfield-shell {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: minmax(0, 1fr) auto;
    padding: 0 var(--shell-gap) var(--shell-gap);
  }

  .control-column--left,
  .control-column--right {
    min-height: auto;
  }

  .control-column--left {
    order: 2;
    align-items: flex-start;
    justify-content: center;
    padding: 0.45rem;
    position: fixed;
    left: calc(0.7rem + var(--safe-left));
    bottom: calc(0.7rem + var(--safe-bottom));
    width: min(160px, 40vw);
    z-index: 4;
    background: #0f1630f0;
  }

  .control-column--right {
    order: 2;
    position: fixed;
    right: calc(0.7rem + var(--safe-right));
    bottom: calc(0.7rem + var(--safe-bottom));
    width: min(112px, 30vw);
    z-index: 4;
    padding: 0.4rem;
    background: #0f1630f0;
  }

  .game-shell {
    order: 1;
    align-items: center;
    justify-content: center;
  }

  .game-canvas {
    width: min(100%, calc(var(--shell-w, 100%) - var(--safe-left) - var(--safe-right) - 1.4rem));
    max-height: calc(var(--tg-viewport-stable-h) - var(--safe-top) - var(--safe-bottom) - var(--tg-content-top, 0px) - var(--tg-content-bottom, 0px) - var(--header-h) - 168px);
    height: auto;
  }

  .nav-secondary {
    margin-top: 0.35rem;
  }

  .joystick-pad {
    width: min(150px, 40vw);
  }

  .boost-slot {
    min-height: 28px;
    font-size: 0.66rem;
  }

  .bomb-btn,
  .detonate-btn {
    max-width: 58px;
    font-size: 0.86rem;
  }
}


.boot-splash {
  position: absolute;
  inset: 0;
  z-index: 80;
  display: grid;
  place-items: center;
  padding: 1rem;
  /* Future swap hook: replace gradients with background-image: url('/assets/ui/splash/splash_bg.webp'); once binary assets are available. */
  background:
    radial-gradient(circle at 18% 22%, #5f4ee633 0%, #5f4ee600 35%),
    radial-gradient(circle at 84% 30%, #49a9ff2b 0%, #49a9ff00 38%),
    radial-gradient(circle at 50% 56%, #8b67ff26 0%, #8b67ff00 48%),
    radial-gradient(circle at 50% 48%, #18294acc 0%, #0b1325f0 44%, #060a14 76%),
    linear-gradient(160deg, #040711 0%, #090f1f 45%, #060915 100%);
  opacity: 1;
  transition: opacity 300ms ease;
  isolation: isolate;
}

.boot-splash::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  opacity: 0.35;
  background: transparent;
  box-shadow:
    6vw 10vh 0 0 #eef3ff,
    12vw 26vh 0 0 #8cc1ff,
    19vw 14vh 0 0 #c7d2ff,
    23vw 62vh 0 0 #9fb8ff,
    31vw 34vh 0 0 #e4ebff,
    37vw 79vh 0 0 #9acbff,
    46vw 19vh 0 0 #d9e2ff,
    52vw 12vh 0 0 #90b9ff,
    58vw 65vh 0 0 #f2f6ff,
    67vw 41vh 0 0 #a3c4ff,
    73vw 21vh 0 0 #dee6ff,
    81vw 57vh 0 0 #96c8ff,
    88vw 31vh 0 0 #e0e9ff,
    93vw 74vh 0 0 #a6cfff;
}

.boot-splash--closing {
  opacity: 0;
  pointer-events: none;
}

.boot-splash-card {
  width: min(92vw, 560px);
  display: flex;
  flex-direction: column;
  gap: 0.65rem;
  padding: clamp(0.75rem, 2.2vw, 1.2rem);
  border: 1px solid #4a5f9d7d;
  border-radius: 16px;
  background: linear-gradient(160deg, #0b1326e8, #0d1731cc);
  box-shadow: 0 12px 36px #02050fcc, inset 0 1px 0 #8db1ff1f;
  backdrop-filter: blur(1.5px);
}

.boot-splash-logo {
  display: block;
  width: 100%;
  max-width: 460px;
  align-self: center;
  overflow: visible;
  filter: drop-shadow(0 0 10px #6ec5ff90) drop-shadow(0 0 20px #8d84ff66);
}

.boot-splash-logo text {
  margin: 0;
  fill: url(#bootLogoGradient);
  font-size: 86px;
  font-weight: 900;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  paint-order: stroke;
  stroke: #e8f2ff;
  stroke-opacity: 0.12;
  stroke-width: 1.2px;
}

.boot-splash-progress-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 0.6rem;
}

.boot-splash-progress-track {
  height: 14px;
  border-radius: 999px;
  border: 1px solid #425180;
  background: #0d1428;
  overflow: hidden;
}

.boot-splash-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #53b8ff, #8f7dff);
  transition: width 120ms linear;
}

.boot-splash-file {
  min-height: 1.2em;
  font-size: 0.8rem;
  color: #b9c5ec;
}

@media (max-width: 560px) {
  .boot-splash-logo text {
    font-size: 64px;
    letter-spacing: 0.04em;
  }

  .boot-splash-progress-track {
    height: 12px;
  }
}

.game-flow-overlay {
  position: absolute;
  inset: 0;
  z-index: 70;
  display: grid;
  place-items: center;
  padding: 1rem;
  background: radial-gradient(circle at 50% 25%, #1b2447dd, #060911f5 65%);
}

.intro-layer {
  position: relative;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  overflow: hidden;
  isolation: isolate;
  background:
    radial-gradient(circle at 14% 20%, #7e6cff2b 0%, transparent 40%),
    radial-gradient(circle at 85% 25%, #5bc9ff26 0%, transparent 42%),
    radial-gradient(circle at 80% 82%, #8e6dff2b 0%, transparent 38%),
    linear-gradient(120deg, #04060f, #0a1231 46%, #07112b 100%);
  background-size: 180% 180%;
  animation: introGradientShift 8.5s ease-in-out infinite;
}

.intro-layer::before {
  content: '';
  position: absolute;
  inset: -12% -30%;
  pointer-events: none;
  background:
    radial-gradient(ellipse at center, #ffffff17 0%, #ffffff07 22%, transparent 66%);
  mix-blend-mode: screen;
  filter: blur(12px);
  animation: introHighlightSweep 6.2s ease-in-out infinite;
}

.intro-layer::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 50%, transparent 0 18%, #0000000f 30%, #00000078 100%);
}

.intro-layer__brand-wrap {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.65rem;
  text-align: center;
  padding: 1rem;
  color: #e8f1ff;
}

.intro-layer__brand {
  font-size: clamp(2rem, 7vw, 4.1rem);
  letter-spacing: 0.18em;
  font-weight: 900;
  line-height: 0.92;
  text-transform: uppercase;
  color: #f2f6ff;
  text-shadow: 0 0 14px #8fb4ff88, 0 0 40px #7f86ff55;
  animation: introBrandReveal 1600ms ease-out forwards;
}

.intro-layer__brand-wrap p {
  margin: 0;
  color: #b7c6ef;
  letter-spacing: 0.04em;
  opacity: 0;
  animation: introSubtitleReveal 700ms ease-out 600ms forwards;
}

@keyframes introGradientShift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 52%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@keyframes introHighlightSweep {
  0% {
    opacity: 0.2;
    transform: translateX(-20%) translateY(-3%) rotate(-8deg);
  }

  50% {
    opacity: 0.42;
    transform: translateX(16%) translateY(4%) rotate(8deg);
  }

  100% {
    opacity: 0.2;
    transform: translateX(-20%) translateY(-3%) rotate(-8deg);
  }
}

@keyframes introBrandReveal {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.985);
    filter: blur(4px);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes introSubtitleReveal {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.game-flow-card {
  width: min(92vw, 520px);
  border: 1px solid #3d4f8a;
  border-radius: 14px;
  background: #0c1226f0;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.7rem;
  text-align: center;
}

.game-flow-card h2 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.game-flow-card p {
  margin: 0;
  color: #bec8ea;
}

.game-flow-start-btn {
  min-width: 140px;
  border-radius: 999px;
  border: 1px solid #7f8dff;
  padding: 0.65rem 1.2rem;
  font-weight: 700;
  background: linear-gradient(180deg, #8a95ff, #5964d8);
  color: #ffffff;
}

.settings-overlay {
  position: absolute;
  inset: 0;
  background: #040812cc;
  display: grid;
  place-items: center;
  z-index: 40;
  padding: 0.6rem;
}

.settings-modal {
  width: min(92vw, 560px);
  max-height: calc(var(--tg-viewport-stable-h) * 0.88);
  overflow: auto;
  background: #0f1630;
  border: 1px solid #2c3b6c;
  border-radius: 12px;
  padding: 0.7rem;
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
}

.settings-header,
.settings-tabs,
.settings-row,
.settings-kv,
.settings-ref {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.settings-tabs button.active {
  background: #4a63b3;
}

.settings-panel {
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.settings-ref input,
.settings-panel > input {
  width: 100%;
  min-width: 0;
}


.store-card {
  border: 1px solid #2c3b6c;
  border-radius: 10px;
  padding: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.store-card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.4rem;
}

.store-card-desc {
  color: #c3cfef;
  font-size: 0.88rem;
}

.store-soon-badge {
  margin-left: 0.35rem;
  font-size: 0.7rem;
  color: #f6c76a;
  font-style: normal;
}

.room-create-row,
.room-join-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.room-create-actions {
  display: flex;
  gap: 0.35rem;
}

.room-join-row input {
  flex: 1;
  min-width: 0;
}

.room-section {
  border: 1px solid #2c3b6c;
  border-radius: 10px;
  padding: 0.45rem;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.room-list-item {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 0.5rem;
  align-items: center;
  text-align: left;
}

.room-members-list {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.friend-list-item {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 0.5rem;
  align-items: center;
}

.friend-actions {
  display: flex;
  gap: 0.35rem;
}

.tutorial-overlay {
  position: absolute;
  inset: 0;
  z-index: 85;
  background: rgba(6, 9, 17, 0.74);
  pointer-events: auto;
}

.tutorial-spotlight {
  position: fixed;
  border-radius: 12px;
  border: 2px solid #9db2ff;
  box-shadow: 0 0 0 200vmax rgba(2, 4, 10, 0.65), 0 0 26px rgba(157, 178, 255, 0.75);
  pointer-events: none;
}

.tutorial-card {
  position: fixed;
  left: 50%;
  bottom: calc(var(--safe-bottom) + 1rem);
  transform: translateX(-50%);
  width: min(92vw, 420px);
  border: 1px solid #4f63a8;
  border-radius: 12px;
  background: #0c1226f2;
  padding: 0.8rem;
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.tutorial-card p {
  margin: 0;
  color: #ccd6f8;
}

.waiting-overlay {
  position: absolute;
  inset: 0;
  z-index: 75;
  display: grid;
  place-items: center;
  background: rgba(4, 8, 18, 0.72);
}

.waiting-overlay__card {
  width: min(90vw, 420px);
  border: 1px solid #40548f;
  border-radius: 12px;
  background: #0d142af0;
  padding: 0.9rem;
  text-align: center;
}

.waiting-overlay__card p {
  margin: 0.35rem 0 0;
  color: #c1cdef;
}

.rotate-overlay {
  position: absolute;
  inset: 0;
  z-index: 90;
  display: grid;
  place-items: center;
  background: rgba(3, 7, 16, 0.92);
  pointer-events: auto;
}

.rotate-overlay__card {
  width: min(90vw, 360px);
  border: 1px solid #4e62a0;
  border-radius: 14px;
  padding: 1rem;
  text-align: center;
  background: linear-gradient(160deg, #0d1530f2, #0a1228f2);
}

.rotate-overlay__card p {
  margin: 0.4rem 0 0;
  color: #c7d4fc;
}


.leaderboard-row--1 {
  color: #ffd54f;
}

.leaderboard-row--2 {
  color: #e0e0e0;
}

.leaderboard-row--3 {
  color: #d7a36b;
}

.leaderboard-row--4 {
  color: #b9c0d8;
}
